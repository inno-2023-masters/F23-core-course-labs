# Kubernetes ConfigMaps

```
bobievnodir@bobievnodir-nu:~/iu/devops/k8s$ helm install my-python-web ./my-helm-app --values ./my-helm-app/values.python.yaml
W1209 14:51:29.580741  775941 warnings.go:70] unknown field "spec.template.spec.containers[0].volumeMounts[0].readonly"
NAME: my-python-web
LAST DEPLOYED: Sat Dec  9 14:51:21 2023
NAMESPACE: default
STATUS: deployed
REVISION: 1
...

bobievnodir@bobievnodir-nu:~/iu/devops/k8s$ kubectl get pods,svc
NAME                              READY   STATUS    RESTARTS   AGE
pod/python-app-8464b9d4b5-6dh4x   1/1     Running   0          47s
NAME                         TYPE           CLUSTER-IP     EXTERNAL-IP   PORT(S)          AGE
service/kubernetes           ClusterIP      10.96.0.1      <none>        443/TCP          24d
service/python-web-app-svc   LoadBalancer   10.99.48.216   <pending>     5000:31285/TCP   47s

bobievnodir@bobievnodir-nu:~/iu/devops/k8s$ kubectl get pods,svc
NAME                              READY   STATUS    RESTARTS   AGE
pod/python-app-8464b9d4b5-6dh4x   1/1     Running   0          73s
NAME                         TYPE           CLUSTER-IP     EXTERNAL-IP   PORT(S)          AGE
service/kubernetes           ClusterIP      10.96.0.1      <none>        443/TCP          24d
service/python-web-app-svc   LoadBalancer   10.99.48.216   <pending>     5000:31285/TCP   73s

bobievnodir@bobievnodir-nu:~/iu/devops/k8s$ kubectl exec python-app-8464b9d4b5-6dh4x -- cat /config/config.json
{
    "owner": "Bobiev Nodir",
    "version": "1.0.0",
    "course": "DevOps"
}

bobievnodir@bobievnodir-nu:~/iu/devops/k8s$ kubectl exec python-app-8464b9d4b5-6dh4x -it -- /bin/bash
appuser@python-app-8464b9d4b5-6dh4x:/app$ df
Filesystem                         1K-blocks     Used Available Use% Mounted on
overlay                            470914320 80602944 366316804  19% /
tmpfs                                  65536        0     65536   0% /dev
/dev/mapper/vgbobievnodir--nu-root 470914320 80602944 366316804  19% /config
shm                                    65536        0     65536   0% /dev/shm
tmpfs                                 131072       12    131060   1% /run/secrets/kubernetes.io/serviceaccount
udev                                 7979208        0   7979208   0% /dev/tty
tmpfs                                8044752        0   8044752   0% /proc/acpi
tmpfs                                8044752        0   8044752   0% /proc/scsi
tmpfs                                8044752        0   8044752   0% /sys/firmware
appuser@python-app-8464b9d4b5-6dh4x:/app$ ls /config
config.json
appuser@python-app-8464b9d4b5-6dh4x:/app$ cat /config/config.json
{
    "owner": "Bobiev Nodir",
    "version": "1.0.0",
    "course": "DevOps"
}
```

## Bonus Task:
```
bobievnodir@bobievnodir-nu:~/iu/devops/k8s$ helm list
NAME         	NAMESPACE	REVISION	UPDATED                                	STATUS  	CHART            	APP VERSION
my-go-web    	default  	1       	2023-12-09 17:47:29.873334389 +0300 MSK	deployed	my-helm-app-0.1.0	1.16.0     
my-python-web	default  	1       	2023-12-09 17:31:04.730907936 +0300 MSK	deployed	my-helm-app-0.1.0	1.16.0     
bobievnodir@bobievnodir-nu:~/iu/devops/k8s$ kubectl get pods,svc
NAME                              READY   STATUS    RESTARTS   AGE
pod/go-app-7786c6c457-p8wg8       1/1     Running   0          19m
pod/python-app-55d566d9b4-nxfwq   1/1     Running   0          36m

NAME                         TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)          AGE
service/go-web-app-svc       LoadBalancer   10.108.13.234   <pending>     8080:31510/TCP   19m
service/kubernetes           ClusterIP      10.96.0.1       <none>        443/TCP          24d
service/python-web-app-svc   LoadBalancer   10.103.91.185   <pending>     5000:32415/TCP   36m
bobievnodir@bobievnodir-nu:~/iu/devops/k8s$ kubectl exec go-app-7786c6c457-p8wg8 -- env
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
HOSTNAME=go-app-7786c6c457-p8wg8
APP_COURSE=DevOps
APP_OWNER=Bobiev Nodir
APP_VERSION=1.0.0
PASSWORD=mypassword
USERNAME=admin
GO_WEB_APP_SVC_PORT_8080_TCP_PROTO=tcp
PYTHON_WEB_APP_SVC_SERVICE_HOST=10.103.91.185
PYTHON_WEB_APP_SVC_SERVICE_PORT=5000
PYTHON_WEB_APP_SVC_PORT_5000_TCP_ADDR=10.103.91.185
GO_WEB_APP_SVC_PORT_8080_TCP=tcp://10.108.13.234:8080
PYTHON_WEB_APP_SVC_PORT_5000_TCP=tcp://10.103.91.185:5000
PYTHON_WEB_APP_SVC_PORT_5000_TCP_PORT=5000
GO_WEB_APP_SVC_SERVICE_PORT=8080
GO_WEB_APP_SVC_PORT_8080_TCP_ADDR=10.108.13.234
KUBERNETES_SERVICE_PORT=443
KUBERNETES_SERVICE_PORT_HTTPS=443
KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443
KUBERNETES_PORT_443_TCP_PORT=443
KUBERNETES_PORT=tcp://10.96.0.1:443
KUBERNETES_PORT_443_TCP_PROTO=tcp
KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1
PYTHON_WEB_APP_SVC_PORT_5000_TCP_PROTO=tcp
GO_WEB_APP_SVC_PORT_8080_TCP_PORT=8080
KUBERNETES_SERVICE_HOST=10.96.0.1
PYTHON_WEB_APP_SVC_PORT=tcp://10.103.91.185:5000
GO_WEB_APP_SVC_SERVICE_HOST=10.108.13.234
GO_WEB_APP_SVC_PORT=tcp://10.108.13.234:8080
HOME=/home/appuser

bobievnodir@bobievnodir-nu:~/iu/devops/k8s$ kubectl exec python-app-55d566d9b4-nxfwq -- env
PATH=/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
HOSTNAME=python-app-55d566d9b4-nxfwq
LANG=C.UTF-8
GPG_KEY=A035C8C19219BA821ECEA86B64E628F8D684696D
PYTHON_VERSION=3.10.13
PYTHON_PIP_VERSION=23.0.1
PYTHON_SETUPTOOLS_VERSION=65.5.1
PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/4cfa4081d27285bda1220a62a5ebf5b4bd749cdb/public/get-pip.py
PYTHON_GET_PIP_SHA256=9cc01665956d22b3bf057ae8287b035827bfd895da235bcea200ab3b811790b6
APP_OWNER=Bobiev Nodir
APP_VERSION=1.0.0
APP_COURSE=DevOps
PASSWORD=mypassword
USERNAME=admin
KUBERNETES_SERVICE_HOST=10.96.0.1
PYTHON_WEB_APP_SVC_PORT_5000_TCP_PORT=5000
PYTHON_WEB_APP_SVC_PORT_5000_TCP_ADDR=10.103.91.185
KUBERNETES_SERVICE_PORT=443
KUBERNETES_SERVICE_PORT_HTTPS=443
KUBERNETES_PORT=tcp://10.96.0.1:443
KUBERNETES_PORT_443_TCP_PORT=443
PYTHON_WEB_APP_SVC_PORT=tcp://10.103.91.185:5000
PYTHON_WEB_APP_SVC_PORT_5000_TCP_PROTO=tcp
PYTHON_WEB_APP_SVC_PORT_5000_TCP=tcp://10.103.91.185:5000
KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1
KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443
KUBERNETES_PORT_443_TCP_PROTO=tcp
PYTHON_WEB_APP_SVC_SERVICE_HOST=10.103.91.185
PYTHON_WEB_APP_SVC_SERVICE_PORT=5000
HOME=/home/appuser
```