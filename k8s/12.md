# Lab 12: Kubernetes ConfigMaps
## Task 1
I've updated both applications and their docker files, README and ansible role.

Python:
````
 % kubectl exec app-python-6bddb44bb7-k2lc4 -- cat /data/visits.json
{"visits": 48}                       
````
Go:
```
% kubectl exec app-go-68d45d77ff-55mtn -- cat /data/visits.json
{"visits":"17"}
```

## Task 2
Getting the list of pods:
````
 kubectl get po                                              
NAME                          READY   STATUS    RESTARTS        AGE
app-go-68d45d77ff-55mtn       1/1     Running   0               41s
app-go-68d45d77ff-6bpgr       1/1     Running   0               41s
app-go-68d45d77ff-q2rqt       1/1     Running   0               41s
app-python-6bddb44bb7-k2lc4   1/1     Running   0               176m
app-python-6bddb44bb7-vffkx   1/1     Running   0               176m
app-python-6bddb44bb7-xvr2h   1/1     Running   1 (123m ago)    176m

````
Getting config file:
* Python:
  ````
  % kubectl exec app-go-68d45d77ff-55mtn -- cat /config.json
  {
    "example1": "blabla",
    "example2": "123"
  }
  ````
* Go:
  ````
  % kubectl exec app-python-6bddb44bb7-k2lc4 -- cat /config.json
  {
    "example1": "blabla",
    "example2": "123"
  }
  ````
  
  
## Bonus task:
* Python:
  ````
  % kubectl exec app-python-6bddb44bb7-k2lc4 -- env
  PATH=/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
  HOSTNAME=app-python-6bddb44bb7-k2lc4
  LAB12_KEY={
      "example1": "blabla",
      "example2": "123"
  }
  VAULT_AGENT_INJECTOR_SVC_PORT_443_TCP_ADDR=10.103.177.225
  APP_GO_SERVICE_PORT_HTTP=8081
  KUBERNETES_SERVICE_PORT=443
  VAULT_SERVICE_HOST=10.100.215.147
  VAULT_PORT_8200_TCP_PROTO=tcp
  VAULT_PORT_8200_TCP_PORT=8200
  VAULT_PORT_8201_TCP_PROTO=tcp
  VAULT_AGENT_INJECTOR_SVC_PORT_443_TCP_PORT=443
  APP_PYTHON_SERVICE_PORT_HTTP=8080
  APP_PYTHON_PORT_8080_TCP_PORT=8080
  VAULT_PORT_8200_TCP=tcp://10.100.215.147:8200
  VAULT_AGENT_INJECTOR_SVC_PORT=tcp://10.103.177.225:443
  APP_GO_SERVICE_PORT=8081
  KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443
  KUBERNETES_PORT_443_TCP_PROTO=tcp
  VAULT_SERVICE_PORT=8200
  VAULT_SERVICE_PORT_HTTPS_INTERNAL=8201
  VAULT_PORT=tcp://10.100.215.147:8200
  APP_PYTHON_SERVICE_HOST=10.103.196.80
  APP_PYTHON_PORT_8080_TCP_ADDR=10.103.196.80
  ...
   ````
  
* Go:
  ````
  % kubectl exec app-go-68d45d77ff-55mtn -- env                                                 
    PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
    HOSTNAME=app-go-68d45d77ff-55mtn
    LAB12_KEY={
        "example1": "blabla",
        "example2": "123"
    }
    VAULT_PORT_8200_TCP=tcp://10.100.215.147:8200
    VAULT_PORT_8201_TCP_PROTO=tcp
    VAULT_PORT_8201_TCP_PORT=8201
    VAULT_AGENT_INJECTOR_SVC_PORT_443_TCP_PROTO=tcp
    APP_PYTHON_PORT_8080_TCP_ADDR=10.103.196.80
    KUBERNETES_PORT=tcp://10.96.0.1:443
    VAULT_PORT_8200_TCP_ADDR=10.100.215.147
    VAULT_AGENT_INJECTOR_SVC_PORT_443_TCP_ADDR=10.103.177.225
    APP_GO_PORT_8081_TCP_PROTO=tcp
    KUBERNETES_SERVICE_HOST=10.96.0.1
    APP_PYTHON_PORT_8080_TCP_PORT=8080
    KUBERNETES_PORT_443_TCP_PORT=443
    KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1
    VAULT_AGENT_INJECTOR_SVC_PORT=tcp://10.103.177.225:443
    VAULT_AGENT_INJECTOR_SVC_PORT_443_TCP_PORT=443
    APP_GO_SERVICE_PORT_HTTP=8081
    APP_GO_PORT_8081_TCP_ADDR=10.100.187.145
    APP_PYTHON_PORT=tcp://10.103.196.80:8080
    APP_PYTHON_PORT_8080_TCP_PROTO=tcp
    APP_GO_PORT_8081_TCP_PORT=8081
    VAULT_PORT=tcp://10.100.215.147:8200
    VAULT_PORT_8200_TCP_PROTO=tcp
    VAULT_AGENT_INJECTOR_SVC_PORT_443_TCP=tcp://10.103.177.225:443
    KUBERNETES_SERVICE_PORT=443
    KUBERNETES_SERVICE_PORT_HTTPS=443
    ...
    ````
