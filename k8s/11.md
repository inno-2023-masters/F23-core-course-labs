## 1. Create a Secret Using kubectl

```bash
❯ kubectl create secret generic db-user-pass \
    --from-literal=username=admin \
    --from-literal=password='S!B\*d$zDsb='
secret/db-user-pass created
❯ kubectl get secrets
NAME                                 TYPE                 DATA   AGE
db-user-pass                         Opaque               2      2m45s
sh.helm.release.v1.app-elixir.v1     helm.sh/release.v1   1      6d23h
sh.helm.release.v1.app-python-1.v1   helm.sh/release.v1   1      6d23h
sh.helm.release.v1.app-python.v1     helm.sh/release.v1   1      6d23h
sh.helm.release.v1.helm-hooks.v1     helm.sh/release.v1   1      6d23h
❯ kubectl describe secret db-user-pass

Name:         db-user-pass
Namespace:    default
Labels:       <none>
Annotations:  <none>

Type:  Opaque

Data
====
password:  12 bytes
username:  5 bytes
❯ kubectl get secret db-user-pass -o jsonpath='{.data}'

{"password":"UyFCXCpkJHpEc2I9","username":"YWRtaW4="}%
❯ echo 'UyFCXCpkJHpEc2I9' | base64 --decode

S!B\*d$zDsb=%
❯ echo 'YWRtaW4=' | base64 --decode

admin%
```


## 2. 

```bash
❯ helm plugin install https://github.com/jkroepke/helm-secrets

WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/nikitosing/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/nikitosing/.kube/config
Installed plugin: secrets


❯ helm secrets install  app ./ -f ./secrets.yaml
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/nikitosing/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/nikitosing/.kube/config
[helm-secrets] Decrypt: ./secrets.yaml
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /Users/nikitosing/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /Users/nikitosing/.kube/config
Release "app" has been upgraded. Happy Helming!
NAME: app
LAST DEPLOYED: Tue Nov 14 23:41:17 2023
NAMESPACE: default
STATUS: deployed
REVISION: 8
NOTES:
1. Get the application URL by running these commands:
     NOTE: It may take a few minutes for the LoadBalancer IP to be available.
           You can watch the status of by running 'kubectl get --namespace default svc -w app-app-python'
  export SERVICE_IP=$(kubectl get svc --namespace default app-app-python --template "{{ range (index .status.loadBalancer.ingress 0) }}{{.}}{{ end }}")
  echo http://$SERVICE_IP:80

[helm-secrets] Removed: ./secrets.yaml.dec

❯ kubectl get po
NAME                             READY   STATUS             RESTARTS           AGE
app-app-python-69f7c98f8-dqq49   1/1     Running            0                  76s
app-elixir-67b5996677-bdmtd      0/1     CrashLoopBackOff   1662 (2m59s ago)   7d
app-python-1-59cb6b664c-xjh96    1/1     Running            0                  7d

❯ kubectl exec app-app-python-69f7c98f8-dqq49 -- printenv | grep PASSWORD
PASSWORD=secret1234
```